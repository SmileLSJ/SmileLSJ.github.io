---
layout:     post
title:      "数据同步方案"
date:       2021-09-22 12:00:00
author:     "LSJ"
header-img: "img/post-bg-2015.jpg"
tags:
    - 数据同步方案
---





转载网址：http://www.360doc.com/content/19/0222/16/2633_816804846.shtml



## 数据同步：

* 当数据源发⽣改变时，其他相关数据也跟着发展变化。
* 根据需求不同可采取以下⽅ 案。 



### 1.触发器

*  在数据库建⽴增删改的触发器。触发器将变更放到⼀张临时表⾥。oracle同步cdc 

  * 优点：实时同步 

  * 缺点：影响到业务系统，因为需要在业务系统建⽴触发器 

    

### 2.⽇志

*  通过分析源数据库⽇志，来获得源数据库中的变化的数据。oracle异步cdc 

  * 优点：不影响业务系统 

  * 缺点：有⼀定得延时，对于没有提供⽇志分析接⼝的数据源，开发的难度⽐较⼤

    

### 3.时间戳 

* 在要同步的源表⾥有时间戳字段，每当数据发⽣变化，时间戳会记录发⽣变化的时间 

  * 优点：基本不影响业务系统 

  * 缺点：要求源表必须有时间戳这⼀列 

    

    

### 4.数据⽐较 

* 通过⽐较两边数据源数据，来完成数据同步。⼀般⽤于实时性要求不⾼的场景。 
  * 优点：基本不影响业务系统 
  * 缺点：效率低 



### 5. 全表拷⻉ 

* 定时清空⽬的数据源，将源数据源的数据全盘拷⻉到⽬的数据源。⼀般⽤于数据量不⼤，实时 性要求不⾼的场景。 
  * 优点：基本不影响业务系统，开发、部署都很简单
  *  缺点：效率低

###  总结： 

1. 上⾯五种数据同步⽅式，除了第五种都需要业务表有主键。 
2. 对于没有触发器和⽇志的⼀些⼩型数据源，如txt ⽂本，excel ⽂件，Aceess，则只能使⽤ 后三种⽅式。 
3. 对于⼤型数据源，⼀般优先选择⽇志⽅式，如 ORCALE Asynchronized CDC, 对于不能通 过⽇志来实现的情况，可以考虑第1，3，4种⽅式。

