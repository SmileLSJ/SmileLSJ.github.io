---
layout:     post
title:      "Netty-12-实现一个RPC框架"
date:       2021-09-22 12:00:00
author:     "LSJ"
header-img: "img/post-bg-2015.jpg"
tags:
    - 拉钩
    - Netty
    - 拉钩Netty
---



Netty的经典实用：蚂蚁的SoFABolt 

网址：https://github.com/sofastack/sofa-bolt





## RPC框架架构设计

* RPC 又称远程过程调用（Remote Procedure Call），用于解决分布式系统中服务之间的调用问题。通俗地讲，就是开发者能够像调用本地方法一样调用远程的服务

* RPC基本架构图

  ![Lark20210101-221749.png](../../img/Cip5yF_vL2GAftSLAAOCKnZEdrY576.png)

  * Rpc框架包含三个重要的组件
    * 客户端
    * 服务端
    * 注册中心
  * 三个组件的交互方式
    * 服务端在启动后，会将它提供的服务列表发布到注册中心，客户端向注册中心订阅服务地址
    * 客户端会通过本地代理模块 Proxy 调用服务端，Proxy 模块收到负责将方法、参数等数据转化成网络字节流
    * 客户端从服务列表中选取其中一个的服务地址，并将数据通过网络发送给服务端；
    * 服务端接收到数据后进行解码，得到请求信息
    * 服务端根据解码后的请求信息调用对应的服务，然后将调用结果返回给客户端。

